<script setup>
import { gsap, Linear, DrawSVGPlugin } from "gsap-trial/all";

const props = defineProps({
  keys: {
    type: Number,
    default: 0,
  },
});

const startAnim = () => {
  gsap.registerPlugin(DrawSVGPlugin);
  const tl = gsap.timeline({
    defaults: { duration: 1, ease: Linear.easeNone },
  });

  tl.from(`#mask-path-and-A-${props.keys}-v2`, 0.5, { drawSVG: 0 });

  tl.timeScale(1);
};

onMounted(() => {
  startAnim();
});
</script>

<template>
  <div>
    <svg
      width="31"
      height="41"
      viewBox="0 0 31 41"
      fill="none"
      class="and"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <mask :id="`mask-and-A-${props.keys}-v2`">
          <path
            :id="`mask-path-and-A-${props.keys}-v2`"
            class="mask"
            d="M29.5 38L16.5 31.5L10 24L8 17.5L10 9L13 4.5L18 3L20 5V8.5L18 11.5L16 16L6.5 31.5L3.5 34.5L5 37.5H8L23 25"
            stroke="black"
            stroke-linecap="square"
            stroke-linejoin="bevel"
            stroke-width="7"
          />
        </mask>
      </defs>
      <g id="and">
        <path
          id="and-char-A"
          :mask="`url(#mask-and-A-${props.keys}-v2)`"
          d="M10.4897 28.2646C9.65388 29.4471 8.89184 30.6426 8.20354 31.8514C7.5644 33.0863 6.90069 34.3213 6.21239 35.5563C6.0649 35.8716 6.08948 36.0293 6.28614 36.0293C6.63028 36.0293 7.17109 35.8059 7.90855 35.3592C8.69518 34.9388 9.50639 34.4396 10.3422 33.8615C11.178 33.3097 11.9646 32.7447 12.7021 32.1667C13.4395 31.6149 13.9312 31.2076 14.177 30.9448L14.3245 30.8266C13.7345 30.4062 13.2429 29.9857 12.8496 29.5653C12.5054 29.25 12.2104 28.869 11.9646 28.4223C11.7679 27.9756 11.5221 27.7523 11.2271 27.7523C11.0305 27.7523 10.7847 27.923 10.4897 28.2646ZM10.2684 20.8547C10.2684 20.9861 10.4651 21.0518 10.8584 21.0518C10.9567 21.0518 11.0551 21.0255 11.1534 20.973C11.35 20.7628 11.5959 20.4212 11.8909 19.9482C12.1858 19.4752 12.4808 18.9234 12.7758 18.2928C13.12 17.6359 13.4887 16.9264 13.882 16.1644C14.2753 15.3761 14.6441 14.5747 14.9882 13.7601C15.0374 13.6813 15.1603 13.4054 15.3569 12.9324C15.6028 12.4595 15.8732 11.8945 16.1681 11.2376C16.4631 10.5544 16.7581 9.83183 17.0531 9.06982C17.3481 8.30781 17.5693 7.61149 17.7168 6.98085C17.9135 6.32395 18.0118 5.78528 18.0118 5.36486C18.0118 4.94444 17.8397 4.73423 17.4956 4.73423C17.3972 4.73423 17.3235 4.74737 17.2743 4.77365C16.3894 5.01013 15.5536 5.50938 14.767 6.2714C13.9803 7.03341 13.292 7.91366 12.7021 8.91216C11.9646 10.0683 11.3992 11.1325 11.0059 12.1047C10.6126 13.0507 10.3422 13.9835 10.1947 14.9032C10.0472 15.7965 9.97345 16.7294 9.97345 17.7016C10.0226 18.6475 10.1209 19.6986 10.2684 20.8547ZM6.80236 29.2106C7.39233 28.1858 7.85939 27.3975 8.20354 26.8457C8.54769 26.2939 8.74435 25.7947 8.79351 25.348C8.89184 24.9013 8.84268 24.4152 8.64602 23.8896C8.49853 23.3378 8.22812 22.5627 7.83481 21.5642C7.53982 20.5657 7.39233 19.4884 7.39233 18.3322C7.39233 17.7541 7.46608 16.979 7.61357 16.0068C7.81023 15.0345 8.10521 13.9835 8.49853 12.8536C8.89184 11.7237 9.38348 10.5807 9.97345 9.42455C10.5634 8.24212 11.2763 7.17793 12.1121 6.23198C12.9971 5.28603 14.0049 4.51088 15.1357 3.90653C16.2665 3.30218 17.5447 3 18.9705 3C19.6588 3 20.1504 3.23649 20.4454 3.70946C20.7896 4.15615 20.9617 4.76051 20.9617 5.52252C20.9617 6.57357 20.7158 7.87425 20.2242 9.42455C19.7325 10.9748 19.118 12.5908 18.3805 14.2725C17.6431 15.9542 16.8319 17.6096 15.9469 19.2387C15.0619 20.8416 14.2016 22.2474 13.3658 23.4561C13.0708 23.9028 12.9233 24.4414 12.9233 25.0721C12.9233 25.6764 13.0708 26.2808 13.3658 26.8851C13.6608 27.4632 14.0787 27.9756 14.6195 28.4223C15.2094 28.869 15.8977 29.158 16.6844 29.2894C16.9794 29.2106 17.2498 29.0266 17.4956 28.7376C17.7906 28.4486 18.0855 28.1333 18.3805 27.7917C18.7247 27.4238 19.118 27.0691 19.5605 26.7275C20.003 26.3859 20.5438 26.1231 21.1829 25.9392C21.3795 25.8866 21.527 25.8604 21.6254 25.8604C21.8712 25.8604 21.9449 25.9917 21.8466 26.2545C21.7483 26.491 21.65 26.6749 21.5516 26.8063C21.355 26.9902 21.0846 27.2267 20.7404 27.5158C20.3963 27.8048 20.0275 28.1201 19.6342 28.4617C19.0442 28.9347 18.5034 29.3945 18.0118 29.8412C17.5202 30.2616 17.2989 30.5375 17.3481 30.6689C17.3972 30.8529 17.8151 31.2207 18.6018 31.7725C19.3884 32.3243 20.2488 32.9024 21.1829 33.5068C22.1662 34.1374 23.1003 34.7023 23.9853 35.2016C24.9194 35.7271 25.5585 36.0687 25.9027 36.2264C26.1976 36.3577 26.6401 36.5285 27.2301 36.7387C27.8692 36.9752 28.3609 37.1986 28.705 37.4088C29.0983 37.6978 29.0983 37.8686 28.705 37.9212C28.3609 37.9737 27.9676 38 27.5251 38H27.2301C26.6401 38 25.8781 37.8161 24.944 37.4482C24.0098 37.0803 23.0265 36.6336 21.9941 36.1081C21.8466 36.0293 21.4779 35.7665 20.8879 35.3198C20.3471 34.8731 19.7325 34.4001 19.0442 33.9009C18.4051 33.4016 17.766 32.9418 17.1268 32.5214C16.5369 32.1273 16.119 31.9302 15.8732 31.9302C15.6273 31.9302 15.1849 32.1929 14.5457 32.7185C13.9066 33.2703 13.1445 33.8746 12.2596 34.5315C11.3746 35.1884 10.4159 35.7928 9.38348 36.3446C8.35103 36.8964 7.34317 37.1723 6.35988 37.1723C5.47493 37.1723 4.86037 36.9884 4.51622 36.6205C4.17207 36.2789 4 35.8453 4 35.3198C4 34.3213 4.31957 33.2834 4.9587 32.2061C5.59784 31.155 6.21239 30.1565 6.80236 29.2106Z"
        />
      </g>
    </svg>
  </div>
</template>

<style lang="scss" scoped>
.and {
  cursor: pointer;
  fill: #fff;
}

.and .mask {
  fill: none;
  stroke: #fff;
  stroke-miterlimit: 10;
}
</style>
