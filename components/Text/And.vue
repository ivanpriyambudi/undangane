<script setup>
import { gsap, Linear, DrawSVGPlugin } from "gsap-trial/all";

const props = defineProps({
  keys: {
    type: Number,
    default: 0,
  },
});

const startAnim = () => {
  gsap.registerPlugin(DrawSVGPlugin);
  const tl = gsap.timeline({
    defaults: { duration: 1, ease: Linear.easeNone },
  });

  tl.from(`#mask-path-and-A-1-v1-${props.keys}`, 0.5, { drawSVG: 0 });

  tl.timeScale(1);
};

onMounted(() => {
  startAnim();
});
</script>

<template>
  <div>
    <svg
      class="and"
      width="59"
      height="45"
      viewBox="0 0 59 45"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <g id="and-masks">
          <mask id="mask-and-A-1-v1">
            <path
              :id="`mask-path-and-A-1-v1-${props.keys}`"
              class="mask"
              d="M42 11C49 -1.50001 29.1269 0.336617 18.5 9.49999C18.6081 13.6243 21.5 16 32.5 17C24.1437 18.2375 16.5286 20.4296 8.5 24C2.08229 32.8329 1.25544 36.2944 6.00005 40C26.5 43.5 35.7218 45.5385 41.5 27C30.2703 22.7538 25.1695 21.8111 17 30.5C20.9457 24.2806 23.9816 21.9705 33 23L48.5 25.5L57 23V16"
              stroke="black"
              stroke-linecap="square"
              stroke-linejoin="bevel"
              stroke-width="5"
            />
          </mask>
        </g>
      </defs>

      <g class="and">
        <path
          class="and-char-A-1-v1"
          mask="url(#mask-and-A-1-v1)"
          d="M17.02 43.18C11.74 43.18 7.81998 42.3 5.25998 40.54C2.73998 38.82 1.47998 36.68 1.47998 34.12C1.47998 31.56 2.59998 28.86 4.83998 26.02C5.67998 24.94 6.97998 23.82 8.73998 22.66C10.54 21.46 12.78 20.36 15.46 19.36C18.14 18.36 21.22 17.62 24.7 17.14C23.58 16.9 22.44 16.58 21.28 16.18C20.12 15.74 19.14 15.16 18.34 14.44C17.58 13.72 17.2 12.84 17.2 11.8C17.2 10.64 17.8 9.27999 19 7.71999C20.4 5.95999 22 4.62 23.8 3.7C25.6 2.74 27.48 2.08 29.44 1.72C31.44 1.32 33.4 1.12 35.32 1.12C35.88 1.12 36.68 1.18 37.72 1.29999C38.8 1.41999 39.9 1.63999 41.02 1.96C42.14 2.23999 43.08 2.63999 43.84 3.15999C44.64 3.67999 45.04 4.33999 45.04 5.13999C45.04 5.81999 44.72 6.56 44.08 7.35999C43.8 7.75999 43.44 8.19999 43 8.67999C42.56 9.11999 42.18 9.33999 41.86 9.33999C41.78 9.33999 41.74 9.27999 41.74 9.16C41.74 8.91999 41.88 8.53999 42.16 8.01999C42.36 7.65999 42.46 7.27999 42.46 6.87999C42.46 5.71999 41.6 4.84 39.88 4.24C38.16 3.59999 36.12 3.27999 33.76 3.27999C32.12 3.27999 30.42 3.41999 28.66 3.7C26.9 3.97999 25.28 4.43999 23.8 5.07999C22.32 5.67999 21.14 6.51999 20.26 7.59999C19.78 8.19999 19.54 8.77999 19.54 9.33999C19.54 10.22 19.96 11.04 20.8 11.8C21.68 12.56 22.78 13.24 24.1 13.84C25.42 14.44 26.76 14.94 28.12 15.34C29.52 15.74 30.74 16.02 31.78 16.18C32.1 16.26 32.26 16.42 32.26 16.66C32.26 16.9 32.08 17.24 31.72 17.68C31.2 18.4 30.64 18.76 30.04 18.76C26.36 18.76 23.02 19.18 20.02 20.02C17.06 20.82 14.5 21.88 12.34 23.2C10.18 24.52 8.47998 25.98 7.23998 27.58C5.55998 29.74 4.71998 31.86 4.71998 33.94C4.71998 36.14 5.73998 38.04 7.77998 39.64C9.85998 41.24 13.14 42.04 17.62 42.04C19.34 42.04 21.22 41.88 23.26 41.56C25.3 41.24 27.3 40.74 29.26 40.06C31.26 39.42 33.04 38.56 34.6 37.48C36.2 36.4 37.4 35.1 38.2 33.58C38.68 32.66 39.02 31.78 39.22 30.94C39.42 30.06 39.52 29.24 39.52 28.48C39.52 27.6 39.4 26.86 39.16 26.26C38.96 25.62 38.7 25.22 38.38 25.06C36.54 24.86 34.66 24.62 32.74 24.34C30.82 24.06 28.98 23.92 27.22 23.92C26.3 23.92 25.42 23.98 24.58 24.1C23.58 24.22 22.52 24.48 21.4 24.88C20.28 25.28 19.36 25.9 18.64 26.74C17.96 27.58 17.7 28.76 17.86 30.28C17.7 30.32 17.56 30.36 17.44 30.4C17.32 30.4 17.22 30.4 17.14 30.4C16.66 30.4 16.42 30.16 16.42 29.68C16.42 29.36 16.5 29.04 16.66 28.72C16.86 28.2 17.3 27.54 17.98 26.74C18.66 25.9 19.38 25.1 20.14 24.34C20.94 23.58 21.54 23.06 21.94 22.78C22.7 22.34 23.44 22.02 24.16 21.82C24.92 21.62 25.68 21.48 26.44 21.4C27 21.32 27.58 21.26 28.18 21.22C28.78 21.18 29.4 21.16 30.04 21.16C32.32 21.16 34.62 21.36 36.94 21.76C39.3 22.16 41.56 22.58 43.72 23.02C44.68 23.18 45.82 23.4 47.14 23.68C48.5 23.92 49.72 24.04 50.8 24.04C51.48 24.04 52.28 23.92 53.2 23.68C54.16 23.4 55 22.94 55.72 22.3C56.44 21.66 56.8 20.76 56.8 19.6C56.8 19.16 56.72 18.78 56.56 18.46C56.44 18.1 56.36 17.74 56.32 17.38C56.32 17.18 56.36 17.08 56.44 17.08C56.72 17 57 17.22 57.28 17.74C57.56 18.22 57.7 18.58 57.7 18.82V19C57.7 21.32 57.12 22.98 55.96 23.98C54.8 24.94 53.34 25.56 51.58 25.84C50.7 25.96 49.8 26.02 48.88 26.02C47.76 26.02 46.6 25.96 45.4 25.84C44.24 25.68 43 25.52 41.68 25.36C42.04 26.2 42.22 27.1 42.22 28.06C42.22 30.1 41.46 32.18 39.94 34.3C38.42 36.5 36.4 38.26 33.88 39.58C31.4 40.86 28.68 41.78 25.72 42.34C22.8 42.9 19.9 43.18 17.02 43.18Z"
        />
      </g>
    </svg>
  </div>
</template>

<style lang="scss" scoped>
.and {
  cursor: pointer;
  fill: #fff;
}

.and .mask {
  fill: none;
  stroke: #fff;
  stroke-miterlimit: 10;
}
</style>
